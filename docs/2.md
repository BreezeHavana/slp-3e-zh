2.正则表达式、文本标准化和编辑距离
===============
用户：你某些方面像我的父亲。
Eliza：你觉得哪里像
用户：你并不很激进但我觉得你不想让我提起这点。
Eliza：什么让你觉得我不很激进
用户：别跟我争。
Eliza：为什么你认为我不会跟你争
用户：你怕我。
Eliza：相信我怕你这一点会让你欣慰么
					        Weizenbaum (1966)
    上面的对话来自Eliza，一个早期的自然语言处理系统。通过模仿罗氏心理治疗师（Weizenbaum，1966）的回复，它可以与一名用户进行有限的对话。Eliza的程序简单到令人惊讶，它运用模式匹配来识别诸如“你怎么怎么样”的短语然后把它们翻译成合适的输出如“你为什么认为我怎么怎么样”。这种简单的技术在这一领域取得了成功，因为Eliza实际上并不知道如何模仿一个罗氏心理治疗师。正如Weizenbaum记录的那样，这是为数不多的、听众可以表现得对世界一无所知的对话类型。Eliza对人类谈话的模仿非常成功：很多与Eliza互动的人开始相信它真正懂他们和他们的问题，甚至，直到他们听了程序是如何操作之后，很多人仍然相信Eliza的能力（Weizenbaum，1966）。直到今天，这种聊天机器人仍然是一个有趣的消遣。

  当然，现代的会话代理不只是一种消遣；它们能回答问题，预订航班，或找餐馆，这些功能依赖于对用户意图更复杂的理解，我们将在29章中看到这一点。尽管如此，基于模式的、驱动Eliza和其他聊天机器人的简单方法在自然语言处理中仍起着重要作用。

  我们将从描述文字模式的最重要的工具————正则表达式开始。正则表达式可用于识别我们想要从文档中提取的字符串。这些字符串可以是上面提到的Elisa“你怎么怎么样”，也可以是从文档中提取的价格表如$199或者$24.99。

  现在我们转向一组统称为文本规范化的任务，其中正则表达式扮演重要角色。文本规范化意味着将文本转换成更方便、更标准的形式。例如，我们要做的跟语言相关的大部分内容依赖于首先分离或者标记出正文中的词语，这就是标记的任务。英语单词通常用空格分隔，但空格并非总是有效的。New York和rock 'n' roll含有空格却经常被当作一个词；而有时我们又需要把I'm分为两个词I和am。为了处理推文或文本，我们需要标记表情符号如:)或主题标签如#nlproc。有些语言，比如中文，并没有词语间的空格，所以单词标记变得更加困难。

  文本规范化的另一部分是词型还原，即确定两个词有一样的词根，不管它们表面有什么区别。比如，sang，sung和sing三个词都是动词sing的不同形式。sing这个词是这些单词的共同词源，还原器把这些单词映射到sing上。词型还原对于处理阿拉伯语这样的形态复杂的语言至关重要。词干提取是一个简化版的词形还原，我们只是从单词最末删去后缀。文本规范化也包括句子划分：用句号或感叹号将文本分解为单个句子。

  最后，我们需要比较单词和其他字符串。我们将介绍一个叫做编辑距离的指标，用将一个字符串变成另一个字符串所需要的操作（插入，删除，替换）的数量来衡量
两个字符串的相似程度。编辑距离算法的运用贯穿自然语言处理的整个过程，从拼写校正到语音识别再到指代消解。

2.1 正则表达式

  计算机科学在标准化方面众多并不出名的成就之一就是正则表达式（RE），一种用于指定文本搜索字符串的语言。这种实用的语言用于每种计算机语言、文字处理和文本处理工具如Unix里面的grep命令或者Emacs。形式上，正则表达式是用于表征一组字符串的代数表示法。当我们有一个用于搜索的表达式和一个语料库时，正则表达式对于搜索文本特别有用。一个正则表达式搜索方法会搜索全部语料库，返回所有与表达式匹配的文本。语料库既可以是单个文档也可以是集合。比如，Unix命令行工具grep采用正则表达式然后返回每一行匹配的输入文本。

  如果每行不止一个匹配，一次搜索可以设计为返回一行中的每个匹配，或者只匹配第一个。下面的例子中，我们给正好匹配正则表达式的部分加了下划线，且只显示了第一次匹配。我们将显示由斜杠分割的正则表达式，但请注意斜杠不是正则表达式的一部分。

2.1.1 基本正则表达式模式
最简单的一种正则表达式是一串简单的字符。为了搜索woodchuck，我们打出/woodchuck/。这种表达式/Buttercup/可以匹配所有包含Buttercup的字符串。grep会返回一行“I'm called little Buttercup”。
搜索用的字符串能包括单独的一个字符（如/!/）或者一串字符（如/urgl/）。


